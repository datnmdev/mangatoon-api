import axios from '../../helpers/axios'

const url = '/emailPasswordCredential/resetPassword'

describe('Kiểm thử API cập nhật lại mật khẩu đã quên', () => {
    it('Thiếu email', async () => {
        const response = await axios.post(url, {
            password: 'Datnguyen170602#',
            code: '94791aada1a04c11bd8e446ec233dde8f79167d1575027048239066a449bd07146cf041dc364f103cf1109230a1b6d94c2984036603e962cc5eb07002f7b933864b49aa1f5dcc3f7f15b2a9f2e7b7f3b9a125cd409199235117c69fb159b0e589e47c81ee633d3c752cd84919d1b28ad17a16732c97f9c9fa82fa11a85ab681403db16e8b54e634e4fb2f70b18eeff58a0fb8bf6b97f6b47aeb3200db100d7ec67d202d441e0272456d016cf397af3e3d5f70a2192b029dc5664f10e9270057dd9139676ded60ebf0d6568d703f2b4a04b6797a4085848f350190701c744c0abc6d6ac2d5ff59fc5a5e03f7baeeecfb5d8e44cd9b80f70145e1090b1b56b70460b23981d99f6bc1db31592dba78d779501056172e64ba4bb4458b197d706b933e8ac92354c8451cca2eb6d468c4d0b1de712fdc756b47dcb468f08a30645dc74a122033e6b397d12c1517591008b18e6fe625757b920832950a743ddb7de2855ed6607d661df034b27bfef44649d250c343b235ef9507eb6f6e45c19a41e4fc364df5d047e7b240aa5fc190013b5f6875f00c5f7f3e0dabdb488b5e5753e240089b35a89f2f199caa4d416c1ece958c9529183a13e10bcaf422dd97bdaf5053ba1b849dd6e3a352ef00f43f54253a5e2683ce1cc665b65a3282b377b3ef8ecb5fb632005bf5f24d65645e95da02477d0863c517f6778d0818915b2aff99f662b38bdbde4ecbe3c3b049ca81fbe8adc1c510775458b556358a4a459898d33ee74582985ffc4c2b9800c4d71acb4869c75c7c9d7b28078951060562d069779b130b934be694985a5d892bdf922712d25242c82994f1a2193a4454e0ece56699cec2b94f6e134466e459d102c846cdcd137116bd3ebe787e197a01e612e15a69f0a98d2c467509c3386458a17ae50adca22d35dea5ed069eb15afbe816b2f6d1ea096011a4926b96d68ab193e835ed38f901ce6844749bdc0236876c8b6ae00168d1730a4d72a0abb1d89437b466ee731c76110ac9003e7d009ae6481d2d8c25b55ca0ccf54c6172783ad6309d73965f86018dc5f73985c49b8c453bfc344e5b280dba48317fb5d4434f49fed00e899f7ae930a1d0110203350a0760629ba101d241b81ce9745b88d31870b54434b7b0406e971c49d744695bea4806745d24860b1def027ad6b88491fca1d3abfac332cab5b7fc3abe4f0996fc13878efc99d01b7a61bb7826fba0eefb7c4ad16f349048b90051bd140849e389dff04fff2103f586ec6b3a960942104f3f397e9ff3fed3afc45e8f8d359c10b90a18862338232b4243bfbc5eabb5799ca91ee12487a35b8dfb346b64f9e728c62375d9132930cff384f0a081ce72a8612c01f1119dacacc49387d07ad3f4cd2daf541a5894b766f8482f2a32167fd1d76b0cd2b0b8f199d78a080f70a40c677bee7ce35b7a57c57'
        })

        expect(response.status).toBe(200)
        expect(response.data).toEqual({
            data: null,
            error: {
                status: 400,
                code: 'BadRequest',
                message: 'bad request'
            }
        })
    })

    it('Thiếu password', async () => {
        const response = await axios.post(url, {
            email: 'datnm.ptit@gmail.com',
            code: '94791aada1a04c11bd8e446ec233dde8f79167d1575027048239066a449bd07146cf041dc364f103cf1109230a1b6d94c2984036603e962cc5eb07002f7b933864b49aa1f5dcc3f7f15b2a9f2e7b7f3b9a125cd409199235117c69fb159b0e589e47c81ee633d3c752cd84919d1b28ad17a16732c97f9c9fa82fa11a85ab681403db16e8b54e634e4fb2f70b18eeff58a0fb8bf6b97f6b47aeb3200db100d7ec67d202d441e0272456d016cf397af3e3d5f70a2192b029dc5664f10e9270057dd9139676ded60ebf0d6568d703f2b4a04b6797a4085848f350190701c744c0abc6d6ac2d5ff59fc5a5e03f7baeeecfb5d8e44cd9b80f70145e1090b1b56b70460b23981d99f6bc1db31592dba78d779501056172e64ba4bb4458b197d706b933e8ac92354c8451cca2eb6d468c4d0b1de712fdc756b47dcb468f08a30645dc74a122033e6b397d12c1517591008b18e6fe625757b920832950a743ddb7de2855ed6607d661df034b27bfef44649d250c343b235ef9507eb6f6e45c19a41e4fc364df5d047e7b240aa5fc190013b5f6875f00c5f7f3e0dabdb488b5e5753e240089b35a89f2f199caa4d416c1ece958c9529183a13e10bcaf422dd97bdaf5053ba1b849dd6e3a352ef00f43f54253a5e2683ce1cc665b65a3282b377b3ef8ecb5fb632005bf5f24d65645e95da02477d0863c517f6778d0818915b2aff99f662b38bdbde4ecbe3c3b049ca81fbe8adc1c510775458b556358a4a459898d33ee74582985ffc4c2b9800c4d71acb4869c75c7c9d7b28078951060562d069779b130b934be694985a5d892bdf922712d25242c82994f1a2193a4454e0ece56699cec2b94f6e134466e459d102c846cdcd137116bd3ebe787e197a01e612e15a69f0a98d2c467509c3386458a17ae50adca22d35dea5ed069eb15afbe816b2f6d1ea096011a4926b96d68ab193e835ed38f901ce6844749bdc0236876c8b6ae00168d1730a4d72a0abb1d89437b466ee731c76110ac9003e7d009ae6481d2d8c25b55ca0ccf54c6172783ad6309d73965f86018dc5f73985c49b8c453bfc344e5b280dba48317fb5d4434f49fed00e899f7ae930a1d0110203350a0760629ba101d241b81ce9745b88d31870b54434b7b0406e971c49d744695bea4806745d24860b1def027ad6b88491fca1d3abfac332cab5b7fc3abe4f0996fc13878efc99d01b7a61bb7826fba0eefb7c4ad16f349048b90051bd140849e389dff04fff2103f586ec6b3a960942104f3f397e9ff3fed3afc45e8f8d359c10b90a18862338232b4243bfbc5eabb5799ca91ee12487a35b8dfb346b64f9e728c62375d9132930cff384f0a081ce72a8612c01f1119dacacc49387d07ad3f4cd2daf541a5894b766f8482f2a32167fd1d76b0cd2b0b8f199d78a080f70a40c677bee7ce35b7a57c57'
        })

        expect(response.status).toBe(200)
        expect(response.data).toEqual({
            data: null,
            error: {
                status: 400,
                code: 'BadRequest',
                message: 'bad request'
            }
        })
    })

    it('Thiếu code', async () => {
        const response = await axios.post(url, {
            email: 'datnm.ptit@gmail.com',
            password: 'Datnguyen170602#'
        })

        expect(response.status).toBe(200)
        expect(response.data).toEqual({
            data: null,
            error: {
                status: 400,
                code: 'BadRequest',
                message: 'bad request'
            }
        })
    })

    it('Sai mã code, cập nhật lại mật khẩu không thành công', async () => {
        const response = await axios.post(url, {
            email: 'datnm.ptit@gmail.com',
            password: 'Datnguyen170602#',
            code: '94791aada1a04c11bd8e446ec233dde8f79167d1575027048239066a449bd07146cf041dc364f103cf1109230a1b6d94c2984036603e962cc5eb07002f7b933864b49aa1f5dcc3f7f15b2a9f2e7b7f3b9a125cd409199235117c69fb159b0e589e47c81ee633d3c752cd84919d1b28ad17a16732c97f9c9fa82fa11a85ab681403db16e8b54e634e4fb2f70b18eeff58a0fb8bf6b97f6b47aeb3200db100d7ec67d202d441e0272456d016cf397af3e3d5f70a2192b029dc5664f10e9270057dd9139676ded60ebf0d6568d703f2b4a04b6797a4085848f350190701c744c0abc6d6ac2d5ff59fc5a5e03f7baeeecfb5d8e44cd9b80f70145e1090b1b56b70460b23981d99f6bc1db31592dba78d779501056172e64ba4bb4458b197d706b933e8ac92354c8451cca2eb6d468c4d0b1de712fdc756b47dcb468f08a30645dc74a122033e6b397d12c1517591008b18e6fe625757b920832950a743ddb7de2855ed6607d661df034b27bfef44649d250c343b235ef9507eb6f6e45c19a41e4fc364df5d047e7b240aa5fc190013b5f6875f00c5f7f3e0dabdb488b5e5753e240089b35a89f2f199caa4d416c1ece958c9529183a13e10bcaf422dd97bdaf5053ba1b849dd6e3a352ef00f43f54253a5e2683ce1cc665b65a3282b377b3ef8ecb5fb632005bf5f24d65645e95da02477d0863c517f6778d0818915b2aff99f662b38bdbde4ecbe3c3b049ca81fbe8adc1c510775458b556358a4a459898d33ee74582985ffc4c2b9800c4d71acb4869c75c7c9d7b28078951060562d069779b130b934be694985a5d892bdf922712d25242c82994f1a2193a4454e0ece56699cec2b94f6e134466e459d102c846cdcd137116bd3ebe787e197a01e612e15a69f0a98d2c467509c3386458a17ae50adca22d35dea5ed069eb15afbe816b2f6d1ea096011a4926b96d68ab193e835ed38f901ce6844749bdc0236876c8b6ae00168d1730a4d72a0abb1d89437b466ee731c76110ac9003e7d009ae6481d2d8c25b55ca0ccf54c6172783ad6309d73965f86018dc5f73985c49b8c453bfc344e5b280dba48317fb5d4434f49fed00e899f7ae930a1d0110203350a0760629ba101d241b81ce9745b88d31870b54434b7b0406e971c49d744695bea4806745d24860b1def027ad6b88491fca1d3abfac332cab5b7fc3abe4f0996fc13878efc99d01b7a61bb7826fba0eefb7c4ad16f349048b90051bd140849e389dff04fff2103f586ec6b3a960942104f3f397e9ff3fed3afc45e8f8d359c10b90a18862338232b4243bfbc5eabb5799ca91ee12487a35b8dfb346b64f9e728c62375d9132930cff384f0a081ce72a8612c01f1119dacacc49387d07ad3f4cd2daf541a5894b766f8482f2a32167fd1d76b0cd2b0b8f199d78a080f70a40c677bee7ce35b7a57c57'
        })

        expect(response.status).toBe(200)
        expect(response.data).toEqual({
            data: false,
            error: null
        })
    })
})